<!DOCTYPE html>
      <script type="text/javascript">
        var _paq = _paq || [];
        /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
          var u="https://arastats.eu/staats/";
          _paq.push(['setTrackerUrl', u+'piwik.php']);
          _paq.push(['setSiteId', '7']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
        })();
      </script>
      <noscript><img src="https://arastats.eu/staats/piwik.php?idsite=7&amp;rec=1" style="border:0" alt="" /></noscript>
      <html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>aragonOS reference documentation · Aragon Developer Portal</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h5&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;documentation-for-aragonos-https-githubcom-aragon-aragonos-v401&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#documentation-for-aragonos-https-githubcom-aragon-aragonos-v401&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Documentation for &lt;a href=&quot;https://github.com/aragon/aragonOS&quot;&gt;aragonOS&lt;/a&gt; v4.0.1.&lt;/h5&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="aragonOS reference documentation · Aragon Developer Portal"/><meta property="og:type" content="website"/><meta property="og:url" content="https://hack.aragon.org/"/><meta property="og:description" content="&lt;h5&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;documentation-for-aragonos-https-githubcom-aragon-aragonos-v401&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#documentation-for-aragonos-https-githubcom-aragon-aragonos-v401&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Documentation for &lt;a href=&quot;https://github.com/aragon/aragonOS&quot;&gt;aragonOS&lt;/a&gt; v4.0.1.&lt;/h5&gt;
"/><meta property="og:image" content="https://hack.aragon.org/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://hack.aragon.org/img/docusaurus.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div><div class="aragon-navbar"><div class="center"><ul class="left"><li><a href="https://aragon.org/discover">Discover</a></li><li><a class="active">Developers</a></li></ul><ul><li class="logo-li"><a class="logo-link" href="https://aragon.org"><img class="logo" src="/img/navbar-logo.svg" alt="Aragon Developer Portal"/></a></li></ul><ul class="right"><li><a href="https://aragon.org/project">Project</a></li><li><a href="https://aragon.org/network">Network</a></li></ul></div></div></div><div class="navPusher singleRowMobileNav"><div class="docMainWrapper wrapper"><div class="back-to-home"><div><a href="/">← Back to home</a></div></div><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><img alt="menu" src="/img/menubar.svg"/></div><h2><span><a href="/">home</a></span><i>-</i><span>aragonOS</span></h2><div class="tocToggler" id="tocToggler"><img alt="menu" src="/img/menumore.svg"/></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">The basics<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/getting-started">Getting started</a></li><li class="navListItem"><a class="navItem" href="/docs/glossary">Glossary</a></li><li class="navListItem"><a class="navItem" href="/docs/stack">The stack</a></li><li class="navListItem"><a class="navItem" href="/docs/acl-intro">Permissions</a></li><li class="navListItem"><a class="navItem" href="/docs/forwarding-intro">Forwarding</a></li><li class="navListItem"><a class="navItem" href="/docs/upgradeability-intro">Upgradeability</a></li><li class="navListItem"><a class="navItem" href="/docs/package-management">Package management</a></li><li class="navListItem"><a class="navItem" href="/docs/templates-intro">Templates</a></li><li class="navListItem"><a class="navItem" href="/docs/client">The Aragon client</a></li><li class="navListItem"><a class="navItem" href="/docs/human-readable-txs">Human readable transactions</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Guides<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/tutorial">Your first Aragon app</a></li><li class="navListItem"><a class="navItem" href="/docs/guides-publish">Publish to aragonPM</a></li><li class="navListItem"><a class="navItem" href="/docs/guides-custom-deploy">Custom Deploy</a></li><li class="navListItem"><a class="navItem" href="/docs/guides-use-agent">The Agent app</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Signers</h4><ul><li class="navListItem"><a class="navItem" href="/docs/guides-use-frame">Frame</a></li><li class="navListItem"><a class="navItem" href="/docs/guides-use-metamask">Metamask</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/guides-faq">Troubleshooting</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">aragonCLI<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/cli-intro">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/cli-main-commands">Main commands</a></li><li class="navListItem"><a class="navItem" href="/docs/cli-dao-commands">DAO commands</a></li><li class="navListItem"><a class="navItem" href="/docs/cli-apm-commands">APM commands</a></li><li class="navListItem"><a class="navItem" href="/docs/cli-ipfs-commands">IPFS commands</a></li><li class="navListItem"><a class="navItem" href="/docs/cli-global-confg">Global configuration</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">aragonPM<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/apm-intro">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/apm-architecture">Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/apm-ref">Reference documentation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">aragonOS<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/aragonos-intro">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/aragonos-motivation">Motivations</a></li><li class="navListItem"><a class="navItem" href="/docs/aragonos-building">Developing with aragonOS</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/aragonos-ref">Reference documentation</a></li><li class="navListItem"><a class="navItem" href="/docs/aragonos-4-migration">Migrating to aragonOS 4 from aragonOS 3</a></li><li class="navListItem"><a class="navItem" href="/docs/aragonos-3-ref">Reference (aragonOS 3)</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">aragonAPI<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/api-intro">Introduction</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">JavaScript</h4><ul><li class="navListItem"><a class="navItem" href="/docs/api-js-quick-start">Quick Start</a></li><li class="navListItem"><a class="navItem" href="/docs/api-js-ref-api">App API</a></li><li class="navListItem"><a class="navItem" href="/docs/api-js-ref-react">React API</a></li><li class="navListItem"><a class="navItem" href="/docs/api-js-ref-wrapper">Wrapper</a></li><li class="navListItem"><a class="navItem" href="/docs/api-js-ref-providers">Providers</a></li><li class="navListItem"><a class="navItem" href="/docs/api-js-ref-architecture">Architecture of apps</a></li><li class="navListItem"><a class="navItem" href="/docs/api-js-guide-bg-scripts">Background Scripts</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">aragonUI<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/aragonui-intro">Introduction</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">App Center<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/app-center-intro">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/app-center-preparing-assets">Preparing assets</a></li><li class="navListItem"><a class="navItem" href="/docs/app-center-submission">Submitting Your App to the App Center</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/aragon/hack/tree/master/docs/os-ref.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">aragonOS reference documentation</h1></header><article><div><span><h5><a class="anchor" aria-hidden="true" id="documentation-for-aragonos-https-githubcom-aragon-aragonos-v401"></a><a href="#documentation-for-aragonos-https-githubcom-aragon-aragonos-v401" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Documentation for <a href="https://github.com/aragon/aragonOS">aragonOS</a> v4.0.1.</h5>
<p><em>Looking for <a href="/docs/aragonos-3-ref.html">aragonOS 3 documentation?</a></em></p>
<p><br></p>
<p>This document provides a technical overview of the framework's architecture and provides insight into its capabilities. It assumes the reader understands <a href="https://solidity.readthedocs.io/">Solidity</a>. For a less technical introduction, visit the <a href="/docs/aragonos-intro.html">introduction</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="design-philosophy"></a><a href="#design-philosophy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Design philosophy</h2>
<p>Using aragonOS allows you to write simpler code by <strong>decoupling</strong> the specific <strong>business logic</strong> of a protocol or application from its <strong>authentication logic</strong>.</p>
<p>With aragonOS, you don't have to think about how to implement authentication or governance at all. Simply inherit from the <strong>AragonApp</strong> base class and use a special modifier to mark actions that require authentication.</p>
<p>Additionally, <strong>upgradeability</strong> capabilities are provided and are used by default. aragonOS implements the <a href="https://eips.ethereum.org/EIPS/eip-897">DelegateProxy</a> pattern with a special implementation called <a href="https://blog.zeppelinos.org/upgradeability-using-unstructured-storage/">unstructured storage</a>. This pattern essentially splits a contract into two instances: a <strong>base logic contract</strong>, which is then depended upon by a simple, slim <strong>proxy contract</strong>. The proxy delegates all its logic to the linked base contract and can modify its pointer to the base contract in order to upgrade its logic.</p>
<h2><a class="anchor" aria-hidden="true" id="components"></a><a href="#components" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Components:</h2>
<ul>
<li><a href="#kernel">Kernel</a></li>
<li><a href="#acl">ACL</a></li>
<li><a href="#aragonapp">AragonApp</a></li>
<li><a href="#forwarders-and-evmscripts">Forwarders and EVMScripts</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="kernel"></a><a href="#kernel" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Kernel</h2>
<h3><a class="anchor" aria-hidden="true" id="the-app-mapping"></a><a href="#the-app-mapping" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The app mapping</h3>
<p>At the core of the Kernel lives a mapping called the <code>app</code> mapping. You can set and get apps using the following interfaces:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setApp</span>(<span class="hljs-params"><span class="hljs-keyword">bytes32</span> namespace, <span class="hljs-keyword">bytes</span> appId, <span class="hljs-keyword">address</span> app</span>) <span class="hljs-title">public</span></span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getApp</span>(<span class="hljs-params"><span class="hljs-keyword">bytes32</span> namespace, <span class="hljs-keyword">bytes32</span> appId</span>) <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> (<span class="hljs-params"><span class="hljs-keyword">address</span></span>)</span>;
</code></pre>
<ul>
<li><strong>namespace:</strong> specifies what type of app record is being set.</li>
<li><strong>appId:</strong> used to identify what app is being set. It is the <a href="https://docs.ens.domains/#namehash">ENS <code>namehash</code></a> of the aragonPM repo (e.g. <code>namehash('voting.aragonpm.eth')</code>).</li>
<li><strong>app:</strong> Address of a contract that can have a different meaning depending on the <a href="#namespaces">namespace</a>.</li>
</ul>
<blockquote>
<p><strong>Warning</strong></p>
<p>Modifying this mapping can have completely destructive consequences and can result in loss of funds. The permission to execute this action, <code>APP_MANAGER_ROLE</code>, is <strong>critical</strong> and has to be well protected behind the ACL.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="namespaces"></a><a href="#namespaces" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Namespaces</h3>
<p>The Kernel implements three namespaces in which installed apps can be registered:</p>
<ul>
<li><strong>Core namespace</strong> (<code>keccak256('core')</code>): the core components of the Kernel. The only contract set in the core mapping should be the reference to the Kernel's base contract.</li>
<li><strong>Base namespace</strong> (<code>keccak256('base')</code>): the base contract addresses for proxy instances.</li>
<li><strong>App namespace</strong> (<code>keccak256('app')</code>): the &quot;default&quot; app address for an installed app. This is used when an app might need to reference another app in the organization, for example, the default ACL instance or the EVMScriptsRegistry.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="app-installation"></a><a href="#app-installation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>App installation</h3>
<p>The notion of &quot;installing&quot; an application in aragonOS is somewhat tricky. Although the Kernel keeps information about apps and their bases, it does not actually keep every app instance stored within its <code>apps</code> mapping.</p>
<p>As such, we attribute the &quot;installation&quot; of an app instance to the creation of its first permission in the <a href="#acl">ACL</a>. If an app has no permissions set, it is technically impossible to use, if developed correctly, and is not considered installed.</p>
<p>While aragonOS is unopinionated about using base or proxy contracts as app instances, by default it prefers using proxies to allow for upgradeability.</p>
<p>You can create new <a href="#appproxies-and-upgradeability">app proxy</a> instances through the following interfaces:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newAppInstance</span>(<span class="hljs-params"><span class="hljs-keyword">bytes32</span> appId, <span class="hljs-keyword">address</span> appBase</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newPinnedAppInstance</span>(<span class="hljs-params"><span class="hljs-keyword">bytes32</span> appId, <span class="hljs-keyword">address</span> appBase</span>)</span>;
</code></pre>
<ul>
<li><strong>appId:</strong> used to identify what app to link the proxy to. It is the <a href="https://docs.ens.domains/#namehash">ENS <code>namehash</code></a> of the aragonPM repo (e.g. <code>namehash('voting.aragonpm.eth')</code>).</li>
<li><strong>app:</strong> Address of the base contract for the app instance. If this app has already been installed previously, this address <strong>must</strong> be the same as the one currently set (use <code>getApp(kernel.APP_BASES_NAMESPACE(), appId)</code> to check).</li>
</ul>
<p>Overloaded versions of the two functions with more options are available:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newAppInstance</span>(<span class="hljs-params"><span class="hljs-keyword">bytes32</span> appId, <span class="hljs-keyword">address</span> appBase, <span class="hljs-keyword">bytes</span> initializePayload, <span class="hljs-keyword">bool</span> setDefault</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newPinnedAppInstance</span>(<span class="hljs-params"><span class="hljs-keyword">bytes32</span> appId, <span class="hljs-keyword">address</span> appBase, <span class="hljs-keyword">bytes</span> initializePayload, <span class="hljs-keyword">bool</span> setDefault</span>)</span>;
</code></pre>
<ul>
<li><strong>initializePayload</strong>: calldata to be used to immediately initialize the app proxy, useful for atomically initializing the new app proxy in one transaction.</li>
<li><strong>setDefault</strong>: set the new app as the default instance of the app in the Kernel (i.e. also set it in the <strong>App</strong> namespace).</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="app-permissioning"></a><a href="#app-permissioning" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>App permissioning</h3>
<p>For convenience, the Kernel exposes the following interfaces for getting the default ACL as well as whether an entity has permission to invoke a particular action on an app:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">acl</span>(<span class="hljs-params"></span>) <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> (<span class="hljs-params">IACL</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasPermission</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> who, <span class="hljs-keyword">address</span> where, <span class="hljs-keyword">bytes32</span> what, <span class="hljs-keyword">bytes</span> how</span>) <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>)</span>;
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="upgradeability"></a><a href="#upgradeability" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgradeability</h3>
<p>Upgradeability of apps and the Kernel itself is done by setting a new address for a specific key in the <code>apps</code> mapping with either the <strong>Core</strong> or <strong>Base</strong> namespace.</p>
<h4><a class="anchor" aria-hidden="true" id="kernel-upgradeability"></a><a href="#kernel-upgradeability" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Kernel upgradeability</h4>
<p>Kernel instances for different organizations can share the same implementation. Every Kernel instance is a KernelProxy, allowing them to be upgradeable.</p>
<blockquote>
<p><strong>Warning</strong></p>
<p>Be <em>extremely</em> careful when upgrading the Kernel! The logic for upgrading to a new implementation is in the implementation itself, and so an upgrade to the Kernel could render it un-upgradeable or even unusable!</p>
</blockquote>
<p>Upgrading the Kernel of an organization is done by changing the <strong>Kernel appId</strong> in the <strong>Core</strong> namespace:</p>
<pre><code class="hljs css language-solidity">kernel.setApp(kernel.CORE_NAMESPACE(), kernel.KERNEL_APP_ID(), newKernelBaseAddr);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="appproxies-and-upgradeability"></a><a href="#appproxies-and-upgradeability" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AppProxies and upgradeability</h4>
<p>In a similar fashion to the Kernel, apps can share implementation code to save gas on deployment. AppProxies rely on the Kernel for their upgradeability. Note that separate app instances in an organization are all linked to the same base contract in the Kernel, and so upgrading the base contract would effectively upgrade all of that app's instances.</p>
<p>Upgrading an app is done by setting a new base address for <strong>that app's appId</strong> in the <strong>Base</strong> namespace:</p>
<pre><code class="hljs css language-solidity">kernel.setApp(kernel.APP_BASES_NAMESPACE(), votingAppId, newVotingAppBaseAddr);
</code></pre>
<p>aragonOS provides two different types of proxies for apps:</p>
<ul>
<li><p><strong>AppProxyUpgradeable</strong>: an upgradeable proxy. In every call to the proxy it retrieves the current base contract address from the Kernel and forwards the call.</p></li>
<li><p><strong>AppProxyPinned</strong>: a non-upgradeable proxy. On creation, it checks and saves the base contract address in the Kernel. This cannot be upgraded unless the base contract has explicit logic to change that storage slot.</p></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="permissions"></a><a href="#permissions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Permissions</h3>
<p><code>APP_MANAGER_ROLE</code> is required any time the <code>apps</code> mapping is modified.</p>
<blockquote>
<p><strong>Warning</strong></p>
<p><code>APP_MANAGER_ROLE</code> can be used in malicious and dangerous ways. <strong>Protect this permission.</strong></p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="events"></a><a href="#events" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Events</h3>
<p><code>SetApp</code> is fired any time the <code>app</code> mapping changes:</p>
<pre><code class="hljs css language-solidity">SetPermission(<span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> from, <span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> to, <span class="hljs-keyword">bytes32</span> <span class="hljs-keyword">indexed</span> role, <span class="hljs-keyword">bool</span> allowed);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="interface"></a><a href="#interface" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Interface</h3>
<p>The Kernel implements the following interface:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IVaultRecoverable</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transferToVault</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> token</span>) <span class="hljs-title">external</span></span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">allowRecoverability</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> token</span>) <span class="hljs-title">external</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRecoveryVault</span>(<span class="hljs-params"></span>) <span class="hljs-title">external</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> (<span class="hljs-params"><span class="hljs-keyword">address</span></span>)</span>;
}

<span class="hljs-class"><span class="hljs-keyword">contract</span> <span class="hljs-title">IKernel</span> <span class="hljs-keyword">is</span> <span class="hljs-title">IVaultRecoverable</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">event</span> <span class="hljs-title">SetApp</span>(<span class="hljs-params"><span class="hljs-keyword">bytes32</span> <span class="hljs-keyword">indexed</span> namespace, <span class="hljs-keyword">bytes32</span> <span class="hljs-keyword">indexed</span> appId, <span class="hljs-keyword">address</span> app</span>)</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">acl</span>(<span class="hljs-params"></span>) <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> (<span class="hljs-params">IACL</span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasPermission</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> who, <span class="hljs-keyword">address</span> where, <span class="hljs-keyword">bytes32</span> what, <span class="hljs-keyword">bytes</span> how</span>) <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>)</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setApp</span>(<span class="hljs-params"><span class="hljs-keyword">bytes32</span> namespace, <span class="hljs-keyword">bytes32</span> appId, <span class="hljs-keyword">address</span> app</span>) <span class="hljs-title">public</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getApp</span>(<span class="hljs-params"><span class="hljs-keyword">bytes32</span> namespace, <span class="hljs-keyword">bytes32</span> appId</span>) <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> (<span class="hljs-params"><span class="hljs-keyword">address</span></span>)</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="api-documentation"></a><a href="#api-documentation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API documentation</h3>
<p>See <a href="/docs/kernel_Kernel.html">Kernel</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="acl"></a><a href="#acl" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ACL</h2>
<p>A <strong>Permission</strong> is defined as the ability to perform actions (grouped by <strong>Roles</strong>) in a certain app instance (identified by its address).</p>
<p>We refer to a <strong>permission instance</strong> as an entity holding a certain permission. If it helps, you can think of a permission as an <em>manifestation</em> of an app's role that is held by an entity.</p>
<p>The ACL is built entirely as an AragonApp and can be upgraded in the same way as any other application installed into an Kernel. Unlike other apps, however, the ACL is installed and initialized upon the Kernel's own initialization due to its importance.</p>
<h3><a class="anchor" aria-hidden="true" id="managing-permissions"></a><a href="#managing-permissions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Managing permissions</h3>
<p>First of all, you can obtain the default ACL instance for a Kernel with:</p>
<pre><code class="hljs css language-solidity">ACL acl = ACL(kernel.acl());
</code></pre>
<p>Then you can execute the following actions:</p>
<h4><a class="anchor" aria-hidden="true" id="create-permission"></a><a href="#create-permission" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create Permission</h4>
<pre><code class="hljs css language-solidity">acl.createPermission(<span class="hljs-keyword">address</span> entity, <span class="hljs-keyword">address</span> app, <span class="hljs-keyword">bytes32</span> role, <span class="hljs-keyword">address</span> manager);
</code></pre>
<ul>
<li><strong>entity</strong>: entity to hold the permission.</li>
<li><strong>app</strong>: app whose role will be allowed through the permission</li>
<li><strong>role</strong>: role to allow</li>
<li><strong>manager</strong>: manager of the role's permission instances</li>
</ul>
<blockquote>
<p><strong>Warning</strong></p>
<p><code>createPermission()</code> will fail if that role has pre-existing permission instances or a permission manager set.</p>
</blockquote>
<p>Grants <code>role</code> in <code>app</code> for an <code>entity</code> and set <code>manager</code> as the manager of the role's permission instances.</p>
<p>This action is identical to <code>grantPermission()</code> except it allows the creation of the first permission instance of a role.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>Creating permissions is mandatory for apps to work. Any permission checks on non-existent permissions are failed automatically.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="grant-permission"></a><a href="#grant-permission" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Grant Permission</h4>
<pre><code class="hljs css language-solidity">acl.grantPermission(<span class="hljs-keyword">address</span> entity, <span class="hljs-keyword">address</span> app, <span class="hljs-keyword">bytes32</span> role);
</code></pre>
<blockquote>
<p><strong>Warning</strong></p>
<p>Only callable by the <code>manager</code> of the role's permission instances.</p>
</blockquote>
<p>Grants <code>role</code> in <code>app</code> for an <code>entity</code>. This <code>entity</code> would then be allowed to call all actions that their <code>role</code> can perform on that particular <code>app</code> until the permission manager revokes their role with <code>revokePermission()</code>.</p>
<p>This action is identical to <code>createPermission()</code> except it can only be used by the permission manager of the role and does not set a new manager.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>The <code>grantPermission()</code> action doesn’t require protection with the ACL because only the permission manager of the role can make changes.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="revoke-permission"></a><a href="#revoke-permission" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Revoke Permission</h4>
<pre><code class="hljs css language-solidity">acl.revokePermission(<span class="hljs-keyword">address</span> entity, <span class="hljs-keyword">address</span> app, <span class="hljs-keyword">bytes32</span> role);
</code></pre>
<blockquote>
<p><strong>Warning</strong></p>
<p>Only callable by the <code>manager</code> of the role's permission instances.</p>
</blockquote>
<p>Revokes <code>role</code> in <code>app</code> for an <code>entity</code>.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>The <code>revokePermission()</code> action doesn’t require protection with the ACL because only the permission manager of the role can make changes.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="basic-acl-example"></a><a href="#basic-acl-example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Basic ACL example</h3>
<p>As an example, the following steps show a complete flow for user &quot;Root&quot; to create a new DAO with the basic permissions set so that a <a href="https://github.com/aragon/aragon-apps/tree/master/apps/voting">Voting app</a> can manage the funds stored in a <a href="https://github.com/aragon/aragon-apps/tree/master/apps/vault">Vault app</a>:</p>
<ol>
<li>Deploy the Kernel and the ACL</li>
<li>Executing <code>kernel.initialize(acl, rootAddress)</code>, which in turns calls <code>acl.initialize(rootAddress)</code>, creates the &quot;permissions creator&quot; permission under the hood <code>createPermission(rootAddress, aclAddress, CREATE_PERMISSIONS_ROLE, rootAddress)</code></li>
<li>Deploy the Voting app</li>
<li>Grant the Voting app the ability to call <code>createPermission()</code>: <code>grantPermission(votingAppAddress, aclAddress, CREATE_PERMISSIONS_ROLE)</code> (must be executed by <code>rootAddress</code>)</li>
<li>Deploy the Vault app, which has an action called <code>transfer()</code></li>
<li>Create a new vote via the Voting app to create the <code>TRANSFER_ROLE</code> permission: <code>createPermission(votingAppAddress, vaultAppAddress, TRANSFER_ROLE, votingAppAddress)</code></li>
<li>If the vote passes, the Voting app now has access to all actions in the Vault protected by <code>TRANSFER_ROLE</code>, which in this case is just <code>transfer()</code></li>
<li>Fund transfers from the Vault can now be controlled via votes from the Voting app. Each time a user wishes to transfer funds, they can create a new vote via the Voting app to propose an execution of the Vault's <code>transfer()</code> action. The <code>transfer()</code> action will be executed if and only if the vote passes.</li>
</ol>
<p>Note that the Voting app is also able to revoke or regrant the <code>TRANSFER_ROLE</code> permission as it is that permission's manager of <code>TRANSFER_ROLE</code> on <code>vaultAppAddress</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="permission-managers"></a><a href="#permission-managers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Permission managers</h3>
<p>As we have seen in the <a href="#basic-acl-example">Basic ACL example</a>, when a permission is created a <strong>Permission Manager</strong> is set for that specific role. The permission manager is able to grant or revoke permission instances for that role.</p>
<h4><a class="anchor" aria-hidden="true" id="getting-a-role-s-permission-manager"></a><a href="#getting-a-role-s-permission-manager" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting a role's permission manager</h4>
<pre><code class="hljs css language-solidity">acl.getPermissionManager(<span class="hljs-keyword">address</span> app, <span class="hljs-keyword">bytes32</span> role)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="change-a-permission-manager"></a><a href="#change-a-permission-manager" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Change a permission manager</h4>
<pre><code class="hljs css language-solidity">acl.setPermissionManager(<span class="hljs-keyword">address</span> newManager, <span class="hljs-keyword">address</span> app, <span class="hljs-keyword">bytes32</span> role);
</code></pre>
<blockquote>
<p><strong>Warning</strong></p>
<p>Only callable by the <code>manager</code> of the role's permission instances.</p>
</blockquote>
<p>Changes the permission manager to <code>newManager</code>.</p>
<p>The new permission manager replaces the old permission manager resulting in the old manager losing any management power over that permission.</p>
<p><code>createPermission()</code> executes a special case of this action to set the initial manager for the newly created permission. From that point forward, the manager can only be changed with <code>setPermissionManager()</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="parameter-interpretation"></a><a href="#parameter-interpretation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parameter interpretation</h3>
<p>When a permission is granted to an entity by the permission manager it can be assigned an array of parameters that will be evaluated every time the ACL is checked to see if the entity can perform the action.</p>
<p>Parameters allow the ACL to perform certain computations with the arguments of a permission in order to decide whether to allow the action or not. This moves the ACL from being a purely binary access list to a more sophisticated system that allows for fine-grained control.</p>
<p>An ACL parameter is comprised of a data structure with 3 values:</p>
<ul>
<li><strong>Argument Value</strong> (<code>uint240</code>): the value to compare against, depending on the argument. It is a regular Ethereum memory word that loses its two most significant bytes of precision. The reason for this was to allow parameters to be saved in just one storage slot, saving significant gas.
Even though <code>uint240</code>s are used, it can be used to store any integer up to <code>2^30 - 1</code>, addresses, and bytes32. In the case of comparing hashes, losing 2 bytes of precision shouldn't be a dealbreaker if the hash algorithm is secure.</li>
<li><strong>Argument ID</strong> (<code>uint8</code>): Determines how the comparison value is fetched. From 0 to 200 it refers to the argument index number passed to the role. After 200, there are some special <em>Argument IDs</em>:
<ul>
<li><code>BLOCK_NUMBER_PARAM_ID</code> (<code>id = 200</code>): sets comparison value to the block number at the time of execution. This allows for setting up timelocks depending on blocks.</li>
<li><code>TIMESTAMP_PARAM_ID</code> (<code>id = 201</code>): sets comparison value to the timestamp of the current block at the time of execution. This allows for setting up timelocks on time.</li>
<li><code>id = 202</code>: not currently in use.</li>
<li><code>ORACLE_PARAM_ID</code> (<code>id = 203</code>): checks with an oracle at the address in the <code>argument value</code> and returns whether it returned true or false (no comparison with the <code>argument value</code>).</li>
<li><code>LOGIC_OP_PARAM_ID</code> (<code>id = 204</code>): evaluates a logical operation and returns true or false depending on its result (no comparison with the <code>argument value</code>).</li>
<li><code>PARAM_VALUE_PARAM_ID</code> (<code>id = 205</code>): return <code>argument value</code>. Commonly used with the <code>RET</code> operation to just return a value. If the value in the param is greater than 0 it will evaluate to true, otherwise it will return false.</li>
</ul></li>
<li><strong>Operation type</strong> (<code>uint8</code>): what operation should be done to compare the value fetched using the argument ID or the argument value. For all comparisons, both values are compared in the following order <code>args[param.id] &lt;param.op&gt; param.value</code>. Therefore, for a greater than operation, with <code>param = {id: 0, op: Op.GT, value: 10}</code>, it will interpret whether the argument 0 is greater than 10. The implemented operation types are:
<ul>
<li>None (<code>Op.NONE</code>): always evaluates to <code>false</code> regardless of parameter or arguments.</li>
<li>Equals (<code>Op.EQ</code>): evaluates to true if every byte matches between <code>args[param.id]</code> and <code>param.value</code>.</li>
<li>Not equals (<code>Op.NEQ</code>): evaluates to true if any byte doesn't match.</li>
<li>Greater than (<code>Op.GT</code>): evaluates to true if <code>args[param.id] &gt; param.value</code>.</li>
<li>Less than (<code>Op.LT</code>): evaluates to true if <code>args[param.id] &lt; param.value</code>.</li>
<li>Greater than or equal (<code>Op.GTE</code>): evaluates to true if <code>args[param.id] &gt;= param.value</code>.</li>
<li>Less than or equal (<code>Op.LTE</code>): evaluates to true if <code>args[param.id] &lt;= param.value</code>.</li>
<li>Return (<code>Op.RET</code>): evaluates to true if <code>args[param.id]</code> is greater than one. Used with <code>PARAM_VALUE_PARAM_ID</code>, it makes <code>args[param.id] = param.value</code>, so it returns the associated value of the parameter.</li>
</ul></li>
</ul>
<p>While also representing an operation, when the argument ID is <code>LOGIC_OP_PARAM_ID</code> only the <code>Op</code>s below are valid. These operations use the parameter's value to point to other parameter indices in the parameter array. Any values are encoded as <code>uint32</code> numbers, each left-shifted 32 bits (for example, an <code>Op</code> that takes two inputs with a value of <code>0x00....0000000200000001</code> would have input 1, 1, and input 2, 2, refering to params at index 1 and 2). Here are the available logic <code>Op</code>s:</p>
<ul>
<li>Not (<code>Op.NOT</code>): takes 1 parameter index and evaluates to the opposite of what the linked parameter evaluates to.</li>
<li>And (<code>Op.AND</code>): takes 2 parameter indices and evaluates to true if both evaluate to true.</li>
<li>Or (<code>Op.OR</code>): takes 2 parameter indices and evaluates to true if either evaluate to true.</li>
<li>Exclusive or (<code>Op.XOR</code>): takes 2 parameter indices and evaluates to true if only one of the parameters evaluate to true.</li>
<li>If else (<code>Op.IF_ELSE</code>): takes 3 parameters, evaluates the first parameter and if true, evalutes as the second parameter's evaluation, or as the third parameter's evaluation if false.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="parameter-execution"></a><a href="#parameter-execution" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parameter execution</h4>
<p>When evaluating a rule the ACL will always evaluate the result of the first parameter. This first parameter can be an operation that links to other parameters and its evaluation depends on those parameters' evaluation. Execution is recursive and the result evaluated is always the result of the evaluation of the first parameter.</p>
<h4><a class="anchor" aria-hidden="true" id="examples-of-rules"></a><a href="#examples-of-rules" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Examples of rules</h4>
<p>The interpreter supports encoding complex rules in what would look almost like a programming language. For example, let’s look at the following <a href="https://github.com/aragon/aragonOS/blob/63c4722b8629f78350586bcea7c0837ab5882a20/test/TestACLInterpreter.sol#L112-L126">test case</a>:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testComplexCombination</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// if (oracle and block number &gt; block number - 1) then arg 0 &lt; 10 or oracle else false</span>
    Param[] <span class="hljs-keyword">memory</span> params = <span class="hljs-keyword">new</span> Param[](<span class="hljs-number">7</span>);
    params[<span class="hljs-number">0</span>] = Param(LOGIC_OP_PARAM_ID, <span class="hljs-keyword">uint8</span>(Op.IF_ELSE), encodeIfElse(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>));
    params[<span class="hljs-number">1</span>] = Param(LOGIC_OP_PARAM_ID, <span class="hljs-keyword">uint8</span>(Op.AND), encodeOperator(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>));
    params[<span class="hljs-number">2</span>] = Param(ORACLE_PARAM_ID, <span class="hljs-keyword">uint8</span>(Op.EQ), <span class="hljs-keyword">uint240</span>(<span class="hljs-keyword">new</span> AcceptOracle()));
    params[<span class="hljs-number">3</span>] = Param(BLOCK_NUMBER_PARAM_ID, <span class="hljs-keyword">uint8</span>(Op.GT), <span class="hljs-keyword">uint240</span>(<span class="hljs-built_in">block</span>.<span class="hljs-built_in">number</span> - <span class="hljs-number">1</span>));
    params[<span class="hljs-number">4</span>] = Param(LOGIC_OP_PARAM_ID, <span class="hljs-keyword">uint8</span>(Op.OR), encodeOperator(<span class="hljs-number">5</span>, <span class="hljs-number">2</span>));
    params[<span class="hljs-number">5</span>] = Param(<span class="hljs-number">0</span>, <span class="hljs-keyword">uint8</span>(Op.LT), <span class="hljs-keyword">uint240</span>(<span class="hljs-number">10</span>));
    params[<span class="hljs-number">6</span>] = Param(PARAM_VALUE_PARAM_ID, <span class="hljs-keyword">uint8</span>(Op.RET), <span class="hljs-number">0</span>);

    assertEval(params, arr(<span class="hljs-keyword">uint256</span>(<span class="hljs-number">10</span>)), <span class="hljs-literal">true</span>);

    params[<span class="hljs-number">4</span>] = Param(LOGIC_OP_PARAM_ID, <span class="hljs-keyword">uint8</span>(Op.AND), encodeOperator(<span class="hljs-number">5</span>, <span class="hljs-number">2</span>));
    assertEval(params, arr(<span class="hljs-keyword">uint256</span>(<span class="hljs-number">10</span>)), <span class="hljs-literal">false</span>);
}
</code></pre>
<p>When assigned to a permission, this rule will <strong>evaluate to true</strong> (and therefore allow the action) only on the following conditions:</p>
<ul>
<li>If an oracle accepts it, and</li>
<li>The block number is greater than the previous block number, and</li>
<li>Either the oracle allows it (again! testing redundancy too) or the first parameter of the rule is lower than 10.</li>
</ul>
<p>The possibilities for customizing an organization or protocol's governance model are truly endless and there is no need to write any actual Solidity.</p>
<h3><a class="anchor" aria-hidden="true" id="permissions-1"></a><a href="#permissions-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Permissions</h3>
<p><code>CREATE_PERMISSION_ROLE</code> protects <code>createPermission()</code>.</p>
<blockquote>
<p><strong>Warning</strong></p>
<p><code>CREATE_PERMISSION_ROLE</code> could be used in malicious and dangerous ways. This is initially assigned when the Kernel is first initialized. <strong>Protect this permission.</strong></p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="events-1"></a><a href="#events-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Events</h3>
<p><a href="#create-permission"><code>createPermission()</code></a>, <a href="#grant-permission"><code>grantPermission()</code></a>, and <a href="#revoke-permission"><code>revokePermission()</code></a> all fire the same <code>SetPermission</code> event that Aragon clients are expected to cache and process into a locally stored version of the ACL:</p>
<pre><code class="hljs css language-solidity">SetPermission(<span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> from, <span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> to, <span class="hljs-keyword">bytes32</span> <span class="hljs-keyword">indexed</span> role, <span class="hljs-keyword">bool</span> allowed);
</code></pre>
<p><a href="#set-permission-manager"><code>setPermissionManager()</code></a> fires the following event:</p>
<pre><code class="hljs css language-solidity">ChangePermissionManager(<span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> app, <span class="hljs-keyword">bytes32</span> <span class="hljs-keyword">indexed</span> role, <span class="hljs-keyword">address</span> <span class="hljs-keyword">indexed</span> manager);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="api-documentation-1"></a><a href="#api-documentation-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API documentation</h3>
<p>See <a href="/docs/acl_ACL.html">ACL</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="aragonapp"></a><a href="#aragonapp" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AragonApp</h2>
<p>AragonApp is the base class for all aragonOS applications. It exposes a light layer of functionality to supplement an application's business logic and sets up the required storage to connect to a Kernel.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>We have outlined a number of recommended conventions to follow in the <a href="/docs/aragonos-building.html#conventions">aragonOS development guide</a>.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="security-recommendations-and-sane-defaults"></a><a href="#security-recommendations-and-sane-defaults" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Security recommendations and sane defaults</h3>
<p>While it is ultimately up to you to understand the concepts and sufficiently protect your business logic from flaws, AragonApp attempts to provide sane and secure defaults out of the box so you don't have to worry about potential security breaches from misconfiguration.</p>
<p>Applications inheriting from AragonApp are required to be initialized, connected to a Kernel, and used with an <a href="#upgradeability">AppProxy</a>. By default, they are not meant to receive or hold funds and allow all tokens to be recovered through the fund recovery mechanism in case of an accidental token transfer.</p>
<p>To secure an application, it is critical to ensure that all externally-accessible, state-changing functionality is protected by <a href="#authentication">authentication</a>. If the application is meant to receive, hold, or transfer funds, you will also have to carefully reason about the <a href="#application-capabilities">fund recovery and depositable capabilities</a> and how they affect your application (alongside the <a href="https://github.com/ConsenSys/smart-contract-best-practices">standard Ethereum security recommendations</a> of course!) If the app is a <a href="#forwarders-and-evmscripts">forwarder or uses EVMScripts</a> you should also carefully understand the implications of allowing another application or entity to execute an action from your application's address.</p>
<h3><a class="anchor" aria-hidden="true" id="authentication"></a><a href="#authentication" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Authentication</h3>
<h4><a class="anchor" aria-hidden="true" id="adding-roles"></a><a href="#adding-roles" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding roles</h4>
<p>Declaring roles is simple and usually done as public <code>bytes32</code> declarations at the start of the contract file. By convention, the standard name for a role identifier is the <code>keccak256</code> hash of its name as other tooling in the stack expects this to be the case:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-keyword">bytes32</span> <span class="hljs-keyword">public</span> CUSTOM_ACTION_ROLE = keccak256(<span class="hljs-string">"CUSTOM_ACTION_ROLE"</span>);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="protecting-functionality"></a><a href="#protecting-functionality" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Protecting functionality</h4>
<p>Protecting an action behind the ACL is done in the smart contract by simply adding the authentication modifiers <code>auth()</code> or <code>authP()</code> to the action. On executing the action, the <code>auth()</code> or <code>authP()</code> modifier checks with the Kernel whether the entity performing the call holds the required role or not.</p>
<p><code>auth(bytes32 role)</code> is capable of defining a <em>binary</em> permission—either yes or no:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">customAction</span>(<span class="hljs-params"></span>) <span class="hljs-title">auth</span>(<span class="hljs-params">CUSTOM_ACTION_ROLE</span>) </span>{
}
</code></pre>
<p><code>authP(bytes32 role, uint256[] params)</code> allows you to pass a number of parameters that can then be used in the <a href="#parameter-interpretation">ACL's parameterization</a> for each permission. This allows you to define powerful permissions with highly granular controls based on the inputs of an action:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-keyword">bytes32</span> <span class="hljs-keyword">public</span> TRANSFER_ROLE = keccak256(<span class="hljs-string">"TRANSFER_ROLE"</span>);
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transfer</span>(<span class="hljs-params"><span class="hljs-keyword">uint256</span> amount</span>) <span class="hljs-title">authP</span>(<span class="hljs-params">TRANSFER_ROLE, arr(amount</span>)) </span>{
}
</code></pre>
<p><code>authP()</code>'s second argument is a <code>uint256[]</code>, but aragonOS exposes a number of <code>arr()</code> syntatical sugar helpers by default from AragonApp to help construct this array when using different argument types.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>Both <code>auth()</code> and <code>authP()</code> check that the application instance is initialized before allowing the action. Trying to access a protected action in an uninitialized application will result in a revert.</p>
</blockquote>
<p>Finally, AragonApp also exposes a public getter for checking if an entity can perform a certain action:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">canPerform</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> sender, <span class="hljs-keyword">bytes32</span> role, <span class="hljs-keyword">uint256</span>[] params</span>) <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>)</span>;
</code></pre>
<blockquote>
<p><strong>Note</strong></p>
<p>Apps have the choice of which actions to protect behind the ACL as some actions may make sense to be completely public. Any publicly exposed state-changing function should <em>most likely</em> be protected, however.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="lifecycle-of-an-aragonapp-call-requiring-the-acl"></a><a href="#lifecycle-of-an-aragonapp-call-requiring-the-acl" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Lifecycle of an AragonApp call requiring the ACL</h4>
<p><img src="/docs/assets/os-app-call.gif" alt=""></p>
<h3><a class="anchor" aria-hidden="true" id="application-lifecycle-guarantees"></a><a href="#application-lifecycle-guarantees" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Application lifecycle guarantees</h3>
<p>The <a href="https://eips.ethereum.org/EIPS/eip-897">DelegateProxy</a> pattern suffers from a particular weakness of the proxy contracts depending upon the survival of the base logic contracts. It is important to understand the lifecycles of these base and proxy contracts to ensure users' safety and to avoid incidents like the unfortunate <a href="https://www.parity.io/security-alert-2/">second Parity multisig wallet vulnerability</a>.</p>
<p>AragonApps can be in the lifecycle stages of <strong>uninitialized</strong>, <strong>initialized</strong>, or <strong>petrified</strong>. As an application contract is deployed it begins in the <strong>uninitialized</strong> state and can go to either the <strong>initialized</strong> or <strong>petrified</strong> state.</p>
<p><img src="/docs/assets/app-lifecycle.png" alt=""></p>
<p>AragonApp base logic contracts are <strong>petrified</strong> upon their deployment. They can never be initialized and are considered frozen in an uninitialized state forever. This also means that, if properly developed, there is no way for these contracts to be <code>selfdestruct</code>ed.</p>
<p>The AppProxy contracts users deploy and link to the base logic contracts are expected to be <strong>initialized</strong> by their users and only made usable once this initialization is complete.</p>
<p>You can check for an application instance's lifecycle state using the following:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasInitialized</span>(<span class="hljs-params"></span>) <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isPetrified</span>(<span class="hljs-params"></span>) <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>)</span>;
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="application-capabilities"></a><a href="#application-capabilities" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Application capabilities</h3>
<h4><a class="anchor" aria-hidden="true" id="fund-recovery"></a><a href="#fund-recovery" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Fund recovery</h4>
<p>By default, all AragonApps have a fund recovery mechanism enabled for all tokens and ETH to protect against the event of an accidental transfer of funds. This is partly motivated by a flaw in the ERC20 specification that does not allow contracts to prevent themselves from receiving tokens like they can with ETH.</p>
<p>All AragonApps expose an externally-accessible fund recovery mechanism:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transferToVault</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> token</span>) <span class="hljs-title">external</span></span>;
</code></pre>
<p>This capability is configurable through the overloadable hook:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">allowRecoverability</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> token</span>) <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>)</span>;
</code></pre>
<p>The default implementation of <code>allowRecoverability()</code> is just to return true for all tokens but your overload could choose to not allow certain tokens or even ETH.</p>
<h4><a class="anchor" aria-hidden="true" id="depositable-proxies"></a><a href="#depositable-proxies" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Depositable proxies</h4>
<p>AppProxies start off not being able to receive ETH through the native, gas-limited <code>.send()</code> and <code>.transfer()</code> methods. This can be explicitly enabled through the <code>setDepositable()</code> function when an app wants to allow itself (as the proxy instance) to recieve ETH from other contracts:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setDepositable</span>(<span class="hljs-params"><span class="hljs-keyword">bool</span> depositable</span>) <span class="hljs-title">internal</span></span>;
</code></pre>
<p>An example use case would be a fundraising application which would only enable its proxy instances to be capable of receiving ETH for the duration of a fundraiser.</p>
<h4><a class="anchor" aria-hidden="true" id="evmscripts"></a><a href="#evmscripts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>EVMScripts</h4>
<p>AragonApp exposes the following interface for running EVMScripts:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">runScript</span>(<span class="hljs-params"><span class="hljs-keyword">bytes</span> script, <span class="hljs-keyword">bytes</span> input, <span class="hljs-keyword">address</span>[] blacklist</span>) <span class="hljs-title">internal</span> <span class="hljs-title">isInitialized</span> <span class="hljs-title">protectState</span> <span class="hljs-title">returns</span> (<span class="hljs-params"><span class="hljs-keyword">bytes</span></span>)</span>;
</code></pre>
<p>And some getters for information about EVMScripts:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getEVMScriptExecutor</span>(<span class="hljs-params"><span class="hljs-keyword">bytes</span> script</span>) <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> (<span class="hljs-params">IEVMScriptExecutor</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getEVMScriptRegistry</span>(<span class="hljs-params"></span>) <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> (<span class="hljs-params">IEVMScriptRegistry</span>)</span>;
</code></pre>
<p>For more information on the use cases for EVMScripts, see the following <a href="#forwarders-and-evmscripts">Forwarders and EVMScripts</a> section.</p>
<h4><a class="anchor" aria-hidden="true" id="re-entrancy-protection"></a><a href="#re-entrancy-protection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Re-entrancy protection</h4>
<p>AragonApp comes with a built-in re-entrancy guard, easily usable through the <code>nonReentrant</code> modifier:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nonReentrantFunction</span>(<span class="hljs-params"></span>) <span class="hljs-title">external</span> <span class="hljs-title">nonReentrant</span> </span>{
}
</code></pre>
<p>It's use is recommended as a last resort, for cases where there are no better options for protecting against re-entrancy.</p>
<p>Most commonly, you may want to apply this modifier to functions that fulfill these requirements:</p>
<ul>
<li>Externally available and is state changing</li>
<li>Invokable by non-trusted contracts or accounts</li>
<li>Not already protected by a role</li>
<li>There exist more than one of these functions</li>
</ul>
<p>A contrived example of this is if your app allows creating a recurring token payment to another account (protected via a role), but only the recipient account can modify certain parameters (e.g. when to withdraw payments, what token to withdraw). If the withdraw and token selection functions are separately available, they may benefit from being <code>nonReentrant</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="api-documentation-2"></a><a href="#api-documentation-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API documentation</h3>
<p>See <a href="/docs/apps_AragonApp.html">AragonApp</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="forwarders-and-evmscripts"></a><a href="#forwarders-and-evmscripts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Forwarders and EVMScripts</h2>
<p>Forwarders are one of the most important concepts of aragonOS. Rather than hardcoding the notion of a vote into each separate app’s functionality and ACL one can instead use a generic Voting App, which implements the forwarding interface, to pass actions <em>forward</em> to other apps after successful votes. If the Voting App is set up to only allow a token’s holders to vote, that means any actions/calls being passed from it must have also been approved by the token’s holders.</p>
<h3><a class="anchor" aria-hidden="true" id="forwarding-and-transaction-pathing"></a><a href="#forwarding-and-transaction-pathing" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Forwarding and transaction pathing</h3>
<p>The forwarding interface also allows a frontend interface, like the Aragon client, to calculate &quot;forwarding paths&quot;. If you wanted to perform an action but you don't have the required permissions, a client can think of alternative paths for execution. For example, you might be in the Vault app's interface wishing to perform a token transfer. If you only had the permission to create votes, the client would directly prompt you to create a vote rather than let you complete the transfer. The flow is illustrated in the following animation:</p>
<p><img src="/docs/assets/fwd.gif" alt="forwarding animation"></p>
<blockquote>
<p>Vote forwarding scenario.  (Please note that the governance model and characters are fictional.)</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="evmscripts-1"></a><a href="#evmscripts-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>EVMScripts</h3>
<p>We have designed our own scripting format, known as EVMScripts, to encode complex actions into a bytes representation that can be stored and later executed by another entity. EVMScripts can be installed on a per-organization basis through a <strong>EVMScriptRegistry</strong> and aragonOS comes complete with the ability to install multiple script executors in an organization.</p>
<p><strong>EVMScript executors</strong> are contracts that take a script and an input and return an output after execution.</p>
<p>EVMScript executors must implement the following interface:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IEVMScriptExecutor</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">execScript</span>(<span class="hljs-params"><span class="hljs-keyword">bytes</span> script, <span class="hljs-keyword">bytes</span> input, <span class="hljs-keyword">address</span>[] blacklist</span>) <span class="hljs-title">external</span> <span class="hljs-title">returns</span> (<span class="hljs-params"><span class="hljs-keyword">bytes</span></span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">executorType</span>(<span class="hljs-params"></span>) <span class="hljs-title">external</span> <span class="hljs-title">pure</span> <span class="hljs-title">returns</span> (<span class="hljs-params"><span class="hljs-keyword">bytes32</span></span>)</span>;
}
</code></pre>
<blockquote>
<p><strong>Warning</strong></p>
<p>EVMScript executors are called with a <code>delegatecall</code> and operate in the context of the calling app. This <strong>must</strong> be taken into consideration when developing your own executor as it could cause a security breach.</p>
</blockquote>
<p>aragonOS provides the <code>CallsScript</code> executor as a simple way to concatenate multiple calls. It cancels the operation if any of the calls fail.</p>
<ul>
<li><strong>Script body:</strong> See <a href="https://github.com/aragon/aragonOS/blob/v4.0.0/contracts/evmscript/executors/CallsScript.sol#L25"><code>CallsScript</code> source code </a> for spec of the payload.</li>
<li><strong>Input:</strong> None</li>
<li><strong>Output:</strong> None.</li>
<li><strong>Blacklist:</strong> Entire script reverts if a call to one of the addresses in the blacklist is performed.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="making-an-app-a-forwarder"></a><a href="#making-an-app-a-forwarder" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Making an app a Forwarder</h3>
<p>Apps can become Forwarders by simply implementing the following interface:</p>
<pre><code class="hljs css language-solidity"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IForwarder</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isForwarder</span>(<span class="hljs-params"></span>) <span class="hljs-title">external</span> <span class="hljs-title">pure</span> <span class="hljs-title">returns</span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">canForward</span>(<span class="hljs-params"><span class="hljs-keyword">address</span> sender, <span class="hljs-keyword">bytes</span> evmCallScript</span>) <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> (<span class="hljs-params"><span class="hljs-keyword">bool</span></span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forward</span>(<span class="hljs-params"><span class="hljs-keyword">bytes</span> evmCallScript</span>) <span class="hljs-title">public</span></span>;
}
</code></pre>
<p>Examples of forwarders can be found in the <a href="https://github.com/aragon/aragon-apps">aragon-apps repo</a>. Both the <a href="https://github.com/aragon/aragon-apps/blob/master/apps/voting/contracts/Voting.sol">Voting</a> and <a href="https://github.com/aragon/aragon-apps/blob/master/apps/token-manager/contracts/TokenManager.sol">Token Manager</a> apps are forwarders.</p>
<blockquote>
<p><strong>Warning</strong></p>
<p>EVMScripts are very powerful and risk causing security breaches! For example, the Token Manager, which allows any token holder to forward actions, needs to have the token address in its blacklist as otherwise any token holder would effectively have control over the token in the same way that the Token Manager does!</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="api-documentation-3"></a><a href="#api-documentation-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API documentation</h3>
<p>See <a href="/docs/common_IForwarder.html">IForwarder</a> and <a href="/docs/evmscript_EVMScriptRunner.html">EVMScriptRunner</a>.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/aragonos-building"><span class="arrow-prev">← </span><span class="function-name-prevnext">Developing with aragonOS</span></a><a class="docs-next button" href="/docs/aragonos-4-migration"><span class="function-name-prevnext">Migrating to aragonOS 4 from aragonOS 3</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#design-philosophy">Design philosophy</a></li><li><a href="#components">Components:</a></li><li><a href="#kernel">Kernel</a><ul class="toc-headings"><li><a href="#the-app-mapping">The app mapping</a></li><li><a href="#namespaces">Namespaces</a></li><li><a href="#app-installation">App installation</a></li><li><a href="#app-permissioning">App permissioning</a></li><li><a href="#upgradeability">Upgradeability</a></li><li><a href="#permissions">Permissions</a></li><li><a href="#events">Events</a></li><li><a href="#interface">Interface</a></li><li><a href="#api-documentation">API documentation</a></li></ul></li><li><a href="#acl">ACL</a><ul class="toc-headings"><li><a href="#managing-permissions">Managing permissions</a></li><li><a href="#basic-acl-example">Basic ACL example</a></li><li><a href="#permission-managers">Permission managers</a></li><li><a href="#parameter-interpretation">Parameter interpretation</a></li><li><a href="#permissions-1">Permissions</a></li><li><a href="#events-1">Events</a></li><li><a href="#api-documentation-1">API documentation</a></li></ul></li><li><a href="#aragonapp">AragonApp</a><ul class="toc-headings"><li><a href="#security-recommendations-and-sane-defaults">Security recommendations and sane defaults</a></li><li><a href="#authentication">Authentication</a></li><li><a href="#application-lifecycle-guarantees">Application lifecycle guarantees</a></li><li><a href="#application-capabilities">Application capabilities</a></li><li><a href="#api-documentation-2">API documentation</a></li></ul></li><li><a href="#forwarders-and-evmscripts">Forwarders and EVMScripts</a><ul class="toc-headings"><li><a href="#forwarding-and-transaction-pathing">Forwarding and transaction pathing</a></li><li><a href="#evmscripts-1">EVMScripts</a></li><li><a href="#making-an-app-a-forwarder">Making an app a Forwarder</a></li><li><a href="#api-documentation-3">API documentation</a></li></ul></li></ul></nav></div><div class="footer-section"><div class="section-container"><div class="footer-container"><div class="footer-item mobile-full"><a href="https://aragon.org/"><img class="logo-footer-img" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDM3MC4xIDMzMS4zIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzNzAuMSAzMzEuMzsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOnVybCgjU1ZHSURfMV8pO30KCS5zdDF7ZmlsbDp1cmwoI1NWR0lEXzJfKTt9Cgkuc3Qye2ZpbGw6dXJsKCNTVkdJRF8zXyk7fQoJLnN0M3tmaWxsOiMyMDIwMUU7fQoJLnN0NHtmaWxsOnVybCgjU1ZHSURfNF8pO30KCS5zdDV7ZmlsbDojMzUzNTM0O30KCS5zdDZ7ZmlsbDojMjgyODI4O30KCS5zdDd7ZmlsbDp1cmwoI1NWR0lEXzVfKTtzdHJva2U6dXJsKCNTVkdJRF82Xyk7c3Ryb2tlLXdpZHRoOjg7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fQo8L3N0eWxlPgo8Zz4KCgkJPGxpbmVhckdyYWRpZW50IGlkPSJTVkdJRF8xXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxOTgxLjk2MzYiIHkxPSIyNDQ0LjQ5NjEiIHgyPSIyMTYzLjI5NjkiIHkyPSIyNDQ0LjQ5NjEiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLTAuMjk2NCAwLjk1NTEgLTAuOTU1MSAtMC4yOTY0IDMxNTQuNjgzNiAtMTE0NC4wOTMzKSI+CgkJPHN0b3AgIG9mZnNldD0iMy45MTk2NTRlLTAyIiBzdHlsZT0ic3RvcC1jb2xvcjojMkNGNEUxIi8+CgkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzJDQjJFMSIvPgoJPC9saW5lYXJHcmFkaWVudD4KCTxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjE5NyIgY3k9IjEzOS4xIiByPSI5MC43Ii8+Cgk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzJfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjI0NC42MDE2IiB5MT0iMTEzLjEzMTgiIHgyPSIzMjQuMzM2MiIgeTI9IjIyMi4xMTgxIj4KCQk8c3RvcCAgb2Zmc2V0PSIzLjkxOTY1NGUtMDIiIHN0eWxlPSJzdG9wLWNvbG9yOiMyQ0Y0RTEiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojMkNCMkUxIi8+Cgk8L2xpbmVhckdyYWRpZW50PgoJPHBhdGggY2xhc3M9InN0MSIgZD0iTTI2MC43LDExMS45YzYuNSw4LjgsOS45LDE5LjIsOS45LDMwYzAsMTMuMS01LjQsMjUuMi0xNC42LDM1bDUuNiwyMC45aDE3bDE3LjktMjAuM2w0LjgtMjkuN2wxLTE3LjcKCQlsLTE3LjctMjBMMjYwLjcsMTExLjl6Ii8+Cgk8Zz4KCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzNfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjExMS40NTU4IiB5MT0iMTI2Ljc0MTkiIHgyPSIyMjQuMTIyNCIgeTI9IjI4MC43NDE5Ij4KCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6IzJDRTVFMSIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojMkNCMkUxIi8+CgkJPC9saW5lYXJHcmFkaWVudD4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNjMuNywyMDAuMmwzLjEsMTIuM2MwLDAsMzYuNiw3NS4xLDExOSwxMDNjMCwwLDc3LjItMzIsMTEwLjUtODYuM2wtNDguMi00MC4xYzAsMC0yMiwxNy41LTU0LjcsMTcuNQoJCQljLTMyLjcsMC03Ny4xLTE5LjUtNzcuMS01OS43YzAtNDAuMiw0Ni01NC45LDQ2LTU0LjlsLTE5LjYtNC44SDkyLjZsLTMxLjgsNzYuNkw2My43LDIwMC4yeiIvPgoJPC9nPgoJPHBhdGggY2xhc3M9InN0MyIgZD0iTTMwNS40LDIyOC4xIi8+Cgk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzRfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjE4Ni40NzM4IiB5MT0iMjMzLjcyNjciIHgyPSIxODYuNDczOCIgeTI9IjM2LjUiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDAwMDAiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojMEQwRDBEIi8+Cgk8L2xpbmVhckdyYWRpZW50PgoJPHBhdGggY2xhc3M9InN0NCIgZD0iTTM0MC42LDExOS41Yy0xLjQtMS40LTQyLTQ0LjQtMTUzLjMtODIuN2wtMC43LTAuM2MtMTA3LjgsMzctMTU0LjIsODMtMTU0LjIsODNjNC4yLDI0LjUsMTQuOCw1MS44LDI0LjQsNzMKCQljMC44LDEuOCwxMy42LDI0LjQsMjMuMSwzNi43Yy01LjYtMTIuMy0xMS43LTIzLTExLjctNDEuNGMwLTUxLjksNDAuMi05NC4xLDkwLjUtOTUuOWMxLjIsMCwyLjUsMCwzLjcsMC4xbC0xMi0xMgoJCWMwLDAsNDguMy04LjEsMTEwLjMsMjkuNGMwLDAsMC45LDEuOSwwLDcuNWMwLDAsMjkuMiwxMi42LDMxLjcsMzcuMXMtMTMsMzguNS0yNS41LDQwLjVjMCwwLDYuNS0xMC4xLTMuNS0xNS41CgkJYy0yLjEtMS4yLTQuNi0xLjctNy4xLTEuNnYwYy0xOS4xLDAtMjEuMywyMS44LTIxLjMsMjEuOGMtMC4yLDEuMS0wLjIsMi4yLTAuMiwzLjNjMCwwLTMuMiwzMS45LDUzLjYsMzEuMwoJCWMwLDAsMjguOC0zMi42LDM2LjQtNjEuOWMyLjgtMTAuOCw0LjgtMTguOSw2LjEtMjQuOWMzLjItOC41LDYuMy0xNy4zLDkuMy0yNi40TDM0MC42LDExOS41eiIvPgoJPHBhdGggY2xhc3M9InN0NSIgZD0iTTIzNi42LDExNiIvPgoJPHBhdGggY2xhc3M9InN0NiIgZD0iTTIzNiwxMTkuMWMwLjgtMC40LDMuNC0xLjcsNi40LTQuOGM2LDAuOCwxMS45LDIuNywxMS45LDIuN2MtMTAuOS02LjYtMjUuOC0xMC41LTQyLjMtMTAuNAoJCWMwLDAsNi4zLDksMjMuOCwxMi43QzIzNS44LDExOS4zLDIzNS45LDExOS4yLDIzNiwxMTkuMXoiLz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDYiIGQ9Ik0xODYuMSw0MS4zYzEwLjYsMy4zLDg3LjYsMjguOSwxNDkuMiw3OS44bDYuOS0ybC0wLjUtMC40Yy02MC4yLTUxLTEzNi4zLTc3LjUtMTUyLjEtODIuNmwtMS41LTAuNWwtMi0wLjYKCQkJbC0zLjUsMS4xYy0xNS44LDUuMS05MS45LDMxLjYtMTUyLjEsODIuNmwtMC43LDAuNmw2LjcsMi4yQzk4LjEsNzAuMywxNzUuNSw0NC42LDE4Ni4xLDQxLjN6Ii8+Cgk8L2c+Cgk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzVfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjE4Ni4wNTciIHkxPSIyNDguNzk1NSIgeDI9IjE4Ni4wNTciIHkyPSItMTYuOTcyOCI+CgkJPHN0b3AgIG9mZnNldD0iMy45MTk2NTRlLTAyIiBzdHlsZT0ic3RvcC1jb2xvcjojMkNGNEUxIi8+CgkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzJDQjJFMSIvPgoJPC9saW5lYXJHcmFkaWVudD4KCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfNl8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMjQuODQxNSIgeTE9IjE2OC44NjE2IiB4Mj0iMzQ3LjI3MjYiIHkyPSIxNjguODYxNiI+CgkJPHN0b3AgIG9mZnNldD0iMy45MTk2NTRlLTAyIiBzdHlsZT0ic3RvcC1jb2xvcjojMkNGNEUxIi8+CgkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzJDQjJFMSIvPgoJPC9saW5lYXJHcmFkaWVudD4KCTxwYXRoIGNsYXNzPSJzdDciIGQ9Ik0zNDEuNywxMDkuMmMtNjAuMi01MS0xMzYuMy03Ny41LTE1Mi4xLTgyLjZsLTEuNS0wLjVsLTItMC42bC0zLjUsMS4xYy0xNS44LDUuMS05MS45LDMxLjYtMTUyLjEsODIuNgoJCWwtMS4zLDEuMWwwLjMsMS43YzAuMSwwLjQsNi42LDM5LjEsMjguOCw4Mi44YzEzLjEsMjUuNywyOSw0OCw0Ny4yLDY2LjVjMjIuMywyMi42LDQ4LjMsMzkuMyw3Ny4yLDQ5LjdsMS43LDAuNmwxLjcsMC42bDEuOC0wLjcKCQlsMS43LTAuNmMyOC45LTEwLjQsNTQuOC0yNy4xLDc3LjItNDkuN2MxOC4yLTE4LjQsMzQuMS00MC44LDQ3LjItNjYuNWMyMi4yLTQzLjYsMjguOC04Mi40LDI4LjgtODIuOGwwLjMtMS43TDM0MS43LDEwOS4yegoJCSBNMzA4LjUsMTkyYy0xMi44LDI1LjEtMjguMyw0Ny00Ni4xLDY1Yy0yMi4xLDIyLjMtNDcuNywzOC43LTc2LjMsNDguOGMtMjguNi0xMC4xLTU0LjItMjYuNC03Ni4zLTQ4LjcKCQljLTE3LjgtMTgtMzMuMy0zOS44LTQ2LjEtNjQuOWMtMTkuMy0zNy44LTI2LjUtNzEuNy0yOC03OS41Qzk3LjQsNjEsMTc1LjQsMzUuMiwxODYuMSwzMS44YzEwLjYsMy40LDg4LjcsMjkuMiwxNTAuNCw4MC45CgkJQzMzNSwxMjAuNCwzMjcuNywxNTQuMywzMDguNSwxOTJ6Ii8+CjwvZz4KPC9zdmc+Cg=="/></a></div><div class="footer-item"><a href="https://aragon.org/">Home</a><a href="https://aragon.org/discover">Discover</a><a href="https://aragon.org/project">Project</a><a href="https://aragon.org/network">Network</a></div><div class="footer-item"><a href="https://hack.aragon.org/" target="_blank">Developers</a><a href="https://wiki.aragon.org/dev/bug_bounty/" target="_blank">Bug bounty</a><a href="https://aragon.org/project/grants">Grants</a><a href="https://aragon.org/project/governance">Governance</a></div><div class="footer-item"><a href="https://aragon.org/project/contribute">Contribute</a><a href="https://blog.aragon.org/" target="_blank">Blog</a><a href="https://wiki.aragon.org/" target="_blank">Wiki</a><a href="https://aracon.one/" target="_blank">AraCon</a></div><div class="footer-item mobile-full"><p class="footer-item-p">Be part of the conversation</p><div class="footer-box"><a href="https://twitter.com/aragonproject" target="_blank"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOS42NDE0IDEuODc5NzRDMTkuMTk4IDIuMDY4OCAxOC43Mzc2IDIuMjE3OTQgMTguMjY1MyAyLjMyNTkyQzE4Ljc4NTggMS44NTA0MSAxOS4xNzcxIDEuMjU1NjUgMTkuMzk3OSAwLjU5MTc5MVYwLjU5MTc5MUMxOS40NjA5IDAuNDAyMjcxIDE5LjI0NjggMC4yMzgzODggMTkuMDY4OCAwLjMzOTg2MlYwLjMzOTg2MkMxOC40MTE3IDAuNzE0NTk4IDE3LjcwMzggMC45OTU3MjEgMTYuOTY0OSAxLjE3NTUxQzE2LjkyMiAxLjE4NTk0IDE2Ljg3NzggMS4xOTEyMyAxNi44MzM0IDEuMTkxMjNDMTYuNjk4OCAxLjE5MTIzIDE2LjU2OCAxLjE0MzE4IDE2LjQ2NSAxLjA1NTk4QzE1LjY3ODkgMC4zODk4MjYgMTQuNjY3NyAwLjAyMjk0OTIgMTMuNjE3OSAwLjAyMjk0OTJDMTMuMTYzNyAwLjAyMjk0OTIgMTIuNzA1IDAuMDkxMDE5NCAxMi4yNTQ3IDAuMjI1Mjg4QzEwLjg1OTUgMC42NDEzMzUgOS43ODI5NSAxLjc0NzgxIDkuNDQ1MTkgMy4xMTI5NkM5LjMxODQ3IDMuNjI1MDEgOS4yODQxNyA0LjEzNzUyIDkuMzQzMTUgNC42MzYyNEM5LjM0OTkxIDQuNjkzNTUgOS4zMjE3MyA0LjczMzU1IDkuMzA0MzYgNC43NTIzMUM5LjI3Mzg1IDQuNzg1MTkgOS4yMzA1OSA0LjgwNDA1IDkuMTg1NjggNC44MDQwNUM5LjE4MDY2IDQuODA0MDUgOS4xNzU1MSA0LjgwMzgxIDkuMTcwNCA0LjgwMzM1QzYuMTE2MjggNC41MzA1NSAzLjM2MjIyIDMuMTE1OTYgMS40MTU1MSAwLjgyMDE4OVYwLjgyMDE4OUMxLjMxNjI0IDAuNzAzMDkgMS4xMjU4NyAwLjcxNzQ1MiAxLjA0Njc1IDAuODQ3OTMyVjAuODQ3OTMyQzAuNjY1NTMgMS40NzY3IDAuNDY0MDcxIDIuMTk1ODYgMC40NjQwNzEgMi45Mjc2NUMwLjQ2NDA3MSA0LjA0OTE1IDAuOTMyNzMyIDUuMTA2MDQgMS43NDY4IDUuODc2NTJDMS40MDQ0NiA1Ljc5ODQ4IDEuMDczMTIgNS42NzU1OCAwLjc2NTMzNiA1LjUxMTIzVjUuNTExMjNDMC42MTY0MzEgNS40MzE3IDAuNDMzMjE5IDUuNTMzOTIgMC40MzExMjcgNS42OTc2NlY1LjY5NzY2QzAuNDA5ODEzIDcuMzYzNzIgMS40MjQ0MSA4Ljg0NjIgMi45NDQzMSA5LjUxMzc2QzIuOTEzNzEgOS41MTQ0NiAyLjg4MzEgOS41MTQ3OSAyLjg1MjQ0IDkuNTE0NzlDMi42MTE1MiA5LjUxNDc5IDIuMzY3NTcgOS40OTI0MiAyLjEyNzQ4IDkuNDQ4MzFWOS40NDgzMUMxLjk1OTc5IDkuNDE3NTIgMS44MTg5MSA5LjU3MDQ2IDEuODcwOTggOS43MjY3NlY5LjcyNjc2QzIuMzY0MzEgMTEuMjA3NSAzLjY5MDQ1IDEyLjI5OSA1LjI3NzQgMTIuNTQ2OEMzLjk2MDMyIDEzLjM5NjggMi40MjY1NSAxMy44NDUyIDAuODMwMjAyIDEzLjg0NTJMMC4zMzI1MzggMTMuODQ0OUMwLjE3OTIwNCAxMy44NDQ5IDAuMDQ5NTIwNyAxMy45NDEgMC4wMTA0NDUzIDE0LjA4MzhDLTAuMDI4MDQ2MiAxNC4yMjQ0IDAuMDQyODU0IDE0LjM3MjggMC4xNzM2MDggMTQuNDQ1OUMxLjk3MjQ0IDE1LjQ1MjMgNC4wMjQyNyAxNS45ODQzIDYuMTA4MTYgMTUuOTg0M0M3LjkzMjI1IDE1Ljk4NDMgOS42Mzg1MiAxNS42MzYyIDExLjE3OTYgMTQuOTQ5OUMxMi41OTI0IDE0LjMyMDcgMTMuODQwOSAxMy40MjEzIDE0Ljg5MDMgMTIuMjc2N0MxNS44NjggMTEuMjEwNCAxNi42MzI0IDkuOTc5NDQgMTcuMTYyNSA4LjYxODEzQzE3LjY2NzcgNy4zMjA0OSAxNy45MzQ4IDUuOTM1ODkgMTcuOTM0OCA0LjYxMzk3VjQuNTUxQzE3LjkzNDcgNC4zMzg3NCAxOC4wMzQ2IDQuMTM5MDIgMTguMjA4OCA0LjAwMzA3QzE4Ljg2OTkgMy40ODcwNCAxOS40NDU1IDIuODc5NiAxOS45MTk3IDIuMTk3NjRWMi4xOTc2NEMyMC4wNDQ5IDIuMDE3NTcgMTkuODQ3NSAxLjc5MTg4IDE5LjY0MTQgMS44Nzk3NFYxLjg3OTc0WiIgZmlsbD0iIzdGODE5OCIvPgo8L3N2Zz4K"/></a><a href="https://aragon.chat/" target="_blank"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjNweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUzICg3MjUyMCkgLSBodHRwczovL3NrZXRjaGFwcC5jb20gLS0+CiAgICA8dGl0bGU+cm9ja2V0LWNoYXQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iSG9tZUAyeCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEwNDMuMDAwMDAwLCAtMjM4Mi4wMDAwMDApIiBmaWxsPSIjN0Y4MTk2IiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8ZyBpZD0icm9ja2V0LWNoYXQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNDMuMDAwMDAwLCAyMzgyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEuNDA1MzgxNCwyLjI3MDIwMTQzIEMxMC40MTkzMDY4LDIuMjcwMjAxNDMgOS40NTIxNjc3NiwyLjM1OTg5NjA0IDguNTI0MjU3MzEsMi41MzM1NDEyNiBDNy4zODM4NDA2NCwwLjk4MDYwMjEyMyA1LjYyMTQ4MjQ2LDAuMDY4OTI3ODc1MiAzLjcwODM1NDksMC4wNjg5Mjc4NzUyIEMyLjIyMjAyNjEzLDAuMDY4OTI3ODc1MiAxLjM4MDU3NTg0LDAuNTQ3ODE0NTk4IDAuMDYwNTIyMTEyNiwxLjE0ODcyNDI4IEwxLjA4MzUzODc0LDIuMDA4MTg3MTMgQzIuMDQ0NDYxMjYsMi44MTU1MTIyNCAyLjYyNTEwMTk3LDMuOTgxMzIxMiAyLjcwNjA2MDEyLDUuMjQyODYzMzMgQzEuMjMyMDkzMDIsNi41NzM5OTYxIDAuNDM0NTE1ODk5LDguMjA2MzkzNzYgMC40MzQ1MTU4OTksOS45NDEyOTk1NSBDMC40MzQ1MTU4OTksMTEuNjc2OTQxNyAxLjI1OTY3NDUyLDEzLjM1MDY1MTkgMi43Njc4Njg0MiwxNC42OTMzNDYzIEMyLjY3NDE5MTM0LDE1LjkzNDQxNjMgMi4wOTU2MjI4MSwxNy4wNzg1MDEyIDEuMTQ4Mjc2NjgsMTcuODc0NDEyIEwwLjEyNTI2MDA1MSwxOC43MzM4MDEyIEwxLjMzMjU1ODMsMTkuMjgzMzgzMSBDMy44MjEzMjQ3NCwyMC40MTY0MjE5IDYuODQ0MDcyLDE5LjcxNjgzMzQgOC41ODI0OTI4NywxNy4zNTg0ODM5IEM5LjQ5OTk3MDk0LDE3LjUyNzA0NzkgMTAuNDQ3MDMxMywxNy42MTIzMjQgMTEuNDA1MzA5OSwxNy42MTIzMjQgQzE3LjM1MDkxMDgsMTcuNjEyMzI0IDIyLjM3NjE3NTQsMTQuMzA5MDg4MiAyMi4zNzYxNzU0LDkuOTQxMjI1OSBDMjIuMzc2MTc1NCw1LjU3MDcxMjU4IDE3LjM0NzEyMzcsMi4yNzAyMDE0MyAxMS40MDUzODE0LDIuMjcwMjAxNDMgWiBNMTguMTQ4NTU5NCwxNC4wNzc4NTU4IEMxNi4zNTkyNjI4LDE1LjI4MTgxMDcgMTMuOTY0NDU5MiwxNS45NDQ3OTk3IDExLjQwNTM4MTQsMTUuOTQ0Nzk5NyBDOS43MDEzMzAyMywxNS45NDQ3OTk3IDguNTY0OTE1MDIsMTUuNjU5MTQ2NiA3LjgzMzI5MDU3LDE1LjQ5NjYyMTIgTDcuNTMyMjUyMDEsMTUuOTkzNjk3MiBDNi41OTYxOTU3MiwxNy41Mzk1NjY4IDQuODk5MTQ3MTEsMTguMzQ3MzMzOCAzLjE2OTMwMDgsMTguMTA0MDI0MyBDNC4wMzIxMTYwNSwxNi45MzYxNTMzIDQuNDMzNjE5ODgsMTUuNDkzNzQ5MiA0LjM5ODgyMTQ1LDE0LjI5ODQ4MzkgTDQuMzk1OTYzMjcsMTMuOTAzMTA1OSBMNC4wODkzNTEyNCwxMy42NTUxNTcgQzMuMTYwMTU0NjEsMTIuOTAzNjUxNyAyLjA1MjUzNTY0LDExLjY0OTMyNjQgMi4wNTI1MzU2NCw5Ljk0MTM3MzE5IEMyLjA1MjUzNTY0LDguNDA2MTgxNSAyLjk3OTMwMjgxLDYuOTM3MTE5MzQgNC42NjIwNjA0OSw1LjgwNDgxNjk4IEM2LjQ1MTM1NzA5LDQuNjAwODYyMDMgOC44NDYxNjA2NCwzLjkzNzg3MzA4IDExLjQwNTIzODUsMy45Mzc4NzMwOCBDMTMuOTY0MzE2MywzLjkzNzg3MzA4IDE2LjM1OTA0ODQsNC42MDA5MzU2NyAxOC4xNDg0MTY1LDUuODA0ODE2OTggQzE5LjgzMTI0NTYsNi45MzcxMTkzNCAyMC43NTc5NDEzLDguNDA2MTA3ODYgMjAuNzU3OTQxMyw5Ljk0MTM3MzE5IEMyMC43NTc5NDEzLDExLjQ3NjYzODUgMTkuODMxMzE3MSwxMi45NDU1NTM0IDE4LjE0ODU1OTQsMTQuMDc3ODU1OCBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8ZWxsaXBzZSBpZD0iT3ZhbCIgY3g9IjExLjI0MzMyMjIiIGN5PSI5Ljk3NDQzNzk1IiByeD0iMS4yNjIxMDM5OCIgcnk9IjEuMzAwNzE5MDgiPjwvZWxsaXBzZT4KICAgICAgICAgICAgICAgICAgICA8ZWxsaXBzZSBpZD0iT3ZhbCIgY3g9IjYuOTU2Njg0NTgiIGN5PSI5Ljk3NDQzNzk1IiByeD0iMS4yNjIxMDM5OCIgcnk9IjEuMzAwNzE5MDgiPjwvZWxsaXBzZT4KICAgICAgICAgICAgICAgICAgICA8ZWxsaXBzZSBpZD0iT3ZhbCIgY3g9IjE1LjU2NTExNTUiIGN5PSI5Ljk3NDQzNzk1IiByeD0iMS4yNjIxMDM5OCIgcnk9IjEuMzAwNzE5MDgiPjwvZWxsaXBzZT4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"/></a><a href="https://forum.aragon.org/" target="_blank"><img class="forum" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAACqppVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyI+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE4OjExOjE1IDE1OjExOjE5PC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTgtMTEtMTVUMTc6MjQ6MDMrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE4LTExLTE1VDE3OjI3OjM4KzAxOjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPlBpeGVsbWF0b3IgMy4zPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj43MDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj43MDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjk5Y2E0N2IzLThhNzItNDI4Ny1hMmVlLTEzNDkxMWJiZTMxNTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMTEtMTVUMTc6MjQ6MDMrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NzZlOGVmYjAtZDVlZC00MzdlLThiZjEtODI2NjFiZDM3NWFjPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxOC0xMS0xNVQxNzoyNzozOCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo5OWNhNDdiMy04YTcyLTQyODctYTJlZS0xMzQ5MTFiYmUzMTU8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD5hZG9iZTpkb2NpZDpwaG90b3Nob3A6YWNhZThmMzktMjk4MS0xMTdjLWJiZWMtODU3NGIyMzA0MmRjPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6NzZlOGVmYjAtZDVlZC00MzdlLThiZjEtODI2NjFiZDM3NWFjPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxkYzpzdWJqZWN0PgogICAgICAgICAgICA8cmRmOlNlcS8+CiAgICAgICAgIDwvZGM6c3ViamVjdD4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzI8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjU8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyPC90aWZmOlhSZXNvbHV0aW9uPgog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"/></a></div><p class="footer-item-p">Subscribe to our newsletter</p><form class="footer-form" action="https://one.us15.list-manage.com/subscribe/post?u=a590aa3843a54b079d48e6e18&amp;id=e81a44c4bd" method="post" name="mc-embedded-subscribe-form" target="_blank" novalidate=""><div class="email-field"><input type="email" name="EMAIL" placeholder="Enter your email" class="required email form-input" id="mce-EMAIL"/><div aria-hidden="true" style="position:absolute;left:-5000px"><input type="text" name="b_a590aa3843a54b079d48e6e18_e81a44c4bd" tabindex="-1"/></div><button type="submit" name="subscribe" id="mc-embedded-subscribe" class="form-button">Subscribe</button></div></form></div></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '9dff0383c32107d6c174f15e259bb23a',
                indexName: 'aragon',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script>
      <style data-styled-components="">
/* sc-component-id: sc-global-3832733198 */
@font-face{font-family:'overpass';src:url(/aragon-ui/cf790334a5a6d45c.woff2) format('woff2'),url(/aragon-ui/fd48a701d84ebf69.woff) format('woff');font-weight:400;font-style:normal;} @font-face{font-family:'overpass';src:url(/aragon-ui/32a3f11e7740ce58.woff2) format('woff2'),url(/aragon-ui/860b19d3e10736e7.woff) format('woff');font-weight:600;font-style:normal;} @font-face{font-family:'overpass';src:url(/aragon-ui/5cfe62515c2f9b42.woff2) format('woff2'),url(/aragon-ui/f8ba2d7a9af0db1f.woff) format('woff');font-weight:800;font-style:normal;} *,*:before,*:after{box-sizing:border-box;} html{min-height:100%;} body{font-family:overpass,sans-serif;font-size:15px;font-weight:400;line-height:1.5;color:#000000;background:#F7FBFD;} body,ul,p,h1,h2,h3,h4,h5,h6{margin:0;padding:0;} button,select,input,textarea,h1,h2,h3,h4,h5,h6{font-size:inherit;font-family:inherit;font-weight:inherit;line-height:inherit;} a,button,select,input,textarea{color:inherit;} strong,b{font-weight:600;}</style>
      </body></html>